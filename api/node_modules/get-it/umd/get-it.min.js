!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).getIt=e()}(function(){return function o(n,s,i){function a(t,e){if(!s[t]){if(!n[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=s[t]={exports:{}},n[t][0].call(r.exports,function(e){return a(n[t][1][e]||e)},r,r.exports,o,n,s,i)}return s[t].exports}for(var u="function"==typeof require&&require,e=0;e<i.length;e++)a(i[e]);return a}({1:[function(e,t,r){"use strict";var u=e("nano-pubsub"),c=e("./util/middlewareReducer"),s=e("./middleware/defaultOptionsProcessor"),i=e("./middleware/defaultOptionsValidator"),p=e("./request"),l=["request","response","progress","error","abort"],f=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];t.exports=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p,r=[],n=f.reduce(function(e,t){return e[t]=e[t]||[],e},{processOptions:[s],validateOptions:[i]});function o(e){var s=l.reduce(function(e,t){return e[t]=u(),e},{}),i=c(n),e=i("processOptions",e),e=(i("validateOptions",e),{options:e,channels:s,applyMiddleware:i}),t=null,r=s.request.subscribe(function(n){t=a(n,function(t,e){var r=n,o=e;if(!t)try{o=i("onResponse",e,r)}catch(e){o=null,t=e}(t=t&&i("onError",t,r))?s.error.publish(t):o&&s.response.publish(o)})}),o=(s.abort.subscribe(function(){r(),t&&t.abort()}),i("onReturn",s,e));return o===s&&s.request.publish(e),o}return o.use=function(t){if(!t)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof t)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(t.onReturn&&0<n.onReturn.length)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return f.forEach(function(e){t[e]&&n[e].push(t[e])}),r.push(t),o},o.clone=function(){return e(r)},t.forEach(o.use),o}},{"./middleware/defaultOptionsProcessor":2,"./middleware/defaultOptionsValidator":3,"./request":6,"./util/middlewareReducer":7,"nano-pubsub":8}],2:[function(e,t,r){"use strict";var o=e("object-assign"),n=e("url-parse"),e="undefined"!=typeof navigator&&"ReactNative"===navigator.product,s=Object.prototype.hasOwnProperty,i={timeout:e?6e4:12e4};function a(e){var t,o=[];for(t in e)s.call(e,t)&&function t(r,e){Array.isArray(e)?e.forEach(function(e){return t(r,e)}):o.push([r,e].map(encodeURIComponent).join("="))}(t,e[t]);return o.length?o.join("&"):""}t.exports=function(e){var e="string"==typeof e?o({url:e},i):o({},i,e),t=n(e.url,{},!0);return e.timeout=function e(t){if(!1===t||0===t)return!1;if(t.connect||t.socket)return t;t=Number(t);return isNaN(t)?e(i.timeout):{connect:t,socket:t}}(e.timeout),e.query&&(t.query=o({},t.query,function(e){var t,r={};for(t in e)void 0!==e[t]&&(r[t]=e[t]);return r}(e.query))),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=t.toString(a),e}},{"object-assign":9,"url-parse":15}],3:[function(e,t,r){"use strict";var o=/^https?:\/\//i;t.exports=function(e){if(!o.test(e.url))throw new Error('"'.concat(e.url,'" is not a valid URL'))}},{}],4:[function(e,t,n){"use strict";var b=e("same-origin"),g=e("parse-headers"),e=e("./browser/fetchXhr"),v="undefined"==typeof window?void 0:window,q=v?"xhr":"fetch",x="function"==typeof XMLHttpRequest?XMLHttpRequest:function(){},r="withCredentials"in new x,o="undefined"==typeof XDomainRequest?void 0:XDomainRequest,O=r?x:o;v||(O=x=e),t.exports=function(r,p){var l,f=r.options,o=r.applyMiddleware("finalizeOptions",f),t={},f=v&&v.location&&!b(v.location.href,o.url),h=r.applyMiddleware("interceptRequest",void 0,{adapter:q,context:r});if(h)return l=setTimeout(p,0,null,h),{abort:function(){return clearTimeout(l)}};var n=new(f?O:x),s=v&&v.XDomainRequest&&n instanceof v.XDomainRequest,e=o.headers,i=o.timeout,a=!1,u=!1,d=!1;if(n.onerror=m,n.ontimeout=m,n.onabort=function(){c(!0),a=!0},n.onprogress=function(){},n[s?"onload":"onreadystatechange"]=function(){i&&(c(),t.socket=setTimeout(function(){return w("ESOCKETTIMEDOUT")},i.socket)),a||4!==n.readyState&&!s||0===n.status||a||u||d||(0===n.status?m(new Error("Unknown XHR error")):(c(),u=!0,p(null,function(){var e=n.status,t=n.statusText;if(s&&void 0===e)e=200;else{if(12e3<e&&e<12156)return m();e=1223===n.status?204:n.status,t=1223===n.status?"No Content":t}return{body:n.response||n.responseText,url:o.url,method:o.method,headers:s?{}:g(n.getAllResponseHeaders()),statusCode:e,statusMessage:t}}())))},n.open(o.method,o.url,!0),n.withCredentials=!!o.withCredentials,e&&n.setRequestHeader)for(var y in e)e.hasOwnProperty(y)&&n.setRequestHeader(y,e[y]);else if(e&&s)throw new Error("Headers cannot be set on an XDomainRequest object");return o.rawBody&&(n.responseType="arraybuffer"),r.applyMiddleware("onRequest",{options:o,adapter:q,request:n,context:r}),n.send(o.body||null),i&&(t.connect=setTimeout(function(){return w("ETIMEDOUT")},i.connect)),{abort:function(){a=!0,n&&n.abort()}};function w(e){d=!0,n.abort();var t=new Error(("ESOCKETTIMEDOUT"===e?"Socket timed out on request to ":"Connection timed out on request to ").concat(o.url));t.code=e,r.channels.error.publish(t)}function c(e){(e||a||2<=n.readyState&&t.connect)&&clearTimeout(t.connect),t.socket&&clearTimeout(t.socket)}function m(e){u||(c(!0),u=!0,n=null,(e=e||new Error("Network error while attempting to reach ".concat(o.url))).isNetworkError=!0,e.request=o,p(e))}}},{"./browser/fetchXhr":5,"parse-headers":10,"same-origin":13}],5:[function(e,t,r){"use strict";function o(){this.readyState=0}o.prototype.open=function(e,t){this._method=e,this._url=t,this._resHeaders="",this.readyState=1,this.onreadystatechange()},o.prototype.abort=function(){this._controller&&this._controller.abort()},o.prototype.getAllResponseHeaders=function(){return this._resHeaders},o.prototype.setRequestHeader=function(e,t){this._headers=this._headers||{},this._headers[e]=t},o.prototype.send=function(e){var r=this,t=this._controller="function"==typeof AbortController&&new AbortController,o="arraybuffer"!==this.responseType,t={method:this._method,headers:this._headers,signal:t&&t.signal,body:e};"undefined"!=typeof window&&(t.credentials=this.withCredentials?"include":"omit"),fetch(this._url,t).then(function(e){return e.headers.forEach(function(e,t){r._resHeaders+="".concat(t,": ").concat(e,"\r\n")}),r.status=e.status,r.statusText=e.statusText,r.readyState=3,o?e.text():e.arrayBuffer()}).then(function(e){o?r.responseText=e:r.response=e,r.readyState=4,r.onreadystatechange()}).catch(function(e){"AbortError"!==e.name?r.onerror(e):r.onabort()})},t.exports=o},{}],6:[function(e,t,r){"use strict";t.exports=e("./node-request")},{"./node-request":4}],7:[function(e,t,r){"use strict";t.exports=function(u){return function(e,t){for(var r="onError"===e,o=t,n=arguments.length,s=new Array(2<n?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];for(var a=0;a<u[e].length&&(o=u[e][a].apply(void 0,[o].concat(s)),!r||o);a++);return o}}},{}],8:[function(e,t,r){t.exports=function(){var r=[];return{subscribe:function(t){return r.push(t),function(){var e=r.indexOf(t);-1<e&&r.splice(e,1)}},publish:function(){for(var e=0;e<r.length;e++)r[e].apply(null,arguments)}}}},{}],9:[function(e,t,r){"use strict";var u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return}}()?Object.assign:function(e,t){for(var r,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),n=1;n<arguments.length;n++){for(var s in r=Object(arguments[n]))c.call(r,s)&&(o[s]=r[s]);if(u)for(var i=u(r),a=0;a<i.length;a++)p.call(r,i[a])&&(o[i[a]]=r[i[a]])}return o}},{}],10:[function(e,t,r){function a(e){return e.replace(/^\s+|\s+$/g,"")}t.exports=function(e){if(!e)return{};for(var t={},r=a(e).split("\n"),o=0;o<r.length;o++){var n=r[o],s=n.indexOf(":"),i=a(n.slice(0,s)).toLowerCase(),n=a(n.slice(s+1));void 0===t[i]?t[i]=n:(s=t[i],"[object Array]"===Object.prototype.toString.call(s)?t[i].push(n):t[i]=[t[i],n])}return t}},{}],11:[function(e,t,r){"use strict";var s=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}r.stringify=function(e,t){var r,o,n=[];for(o in"string"!=typeof(t=t||"")&&(t="?"),e)if(s.call(e,o)){if((r=e[o])||null!=r&&!isNaN(r)||(r=""),o=encodeURIComponent(o),r=encodeURIComponent(r),null===o||null===r)continue;n.push(o+"="+r)}return n.length?t+n.join("&"):""},r.parse=function(e){for(var t=/([^=?&]+)=?([^&]*)/g,r={};n=t.exec(e);){var o=i(n[1]),n=i(n[2]);null===o||null===n||o in r||(r[o]=n)}return r}},{}],12:[function(e,t,r){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],13:[function(e,t,r){"use strict";var i=e("url");t.exports=function(e,t,r){if(e===t)return!0;var e=i.parse(e,!1,!0),t=i.parse(t,!1,!0),o=0|e.port||("https"===e.protocol?443:80),n=0|t.port||("https"===t.protocol?443:80),s=e.protocol===t.protocol,e=e.hostname===t.hostname;return s&&e&&(o===n||r)}},{url:14}],14:[function(e,t,r){"use strict";var o=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/;t.exports={regex:o,parse:function(e){e=o.exec(e);return e?{protocol:(e[1]||"").toLowerCase()||void 0,hostname:(e[5]||"").toLowerCase()||void 0,port:e[6]||void 0}:{}}}},{}],15:[function(e,r,t){!function(n){"use strict";var f=e("requires-port"),h=e("querystringify"),i=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,v=/^[a-zA-Z]:/,t=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function d(e){return(e||"").toString().replace(t,"")}var y=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],s={hash:1,query:1};function w(e){var t,r=("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:{}).location||{},o={},r=typeof(e=e||r);if("blob:"===e.protocol)o=new g(unescape(e.pathname),{});else if("string"==r)for(t in o=new g(e,{}),s)delete o[t];else if("object"==r){for(t in e)t in s||(o[t]=e[t]);void 0===o.slashes&&(o.slashes=i.test(e.href))}return o}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function b(e,t){e=d(e),t=t||{};var r,e=a.exec(e),o=e[1]?e[1].toLowerCase():"",n=!!e[2],s=!!e[3],i=0;return n?i=s?(r=e[2]+e[3]+e[4],e[2].length+e[3].length):(r=e[2]+e[4],e[2].length):s?(r=e[3]+e[4],i=e[3].length):r=e[4],"file:"===o?2<=i&&(r=r.slice(2)):m(o)?r=e[4]:o?n&&(r=r.slice(2)):2<=i&&m(t.protocol)&&(r=e[4]),{protocol:o,slashes:n||m(o),slashesCount:i,rest:r}}function g(e,t,r){if(e=d(e),!(this instanceof g))return new g(e,t,r);var o,n,s,i,a,p=y.slice(),u=typeof t,c=this,l=0;for("object"!=u&&"string"!=u&&(r=t,t=null),r&&"function"!=typeof r&&(r=h.parse),o=!(u=b(e||"",t=w(t))).protocol&&!u.slashes,c.slashes=u.slashes||o&&t.slashes,c.protocol=u.protocol||t.protocol||"",e=u.rest,("file:"===u.protocol&&(2!==u.slashesCount||v.test(e))||!u.slashes&&(u.protocol||u.slashesCount<2||!m(c.protocol)))&&(p[3]=[/(.*)/,"pathname"]);l<p.length;l++)"function"!=typeof(s=p[l])?(n=s[0],a=s[1],n!=n?c[a]=e:"string"==typeof n?~(i=e.indexOf(n))&&(e="number"==typeof s[2]?(c[a]=e.slice(0,i),e.slice(i+s[2])):(c[a]=e.slice(i),e.slice(0,i))):(i=n.exec(e))&&(c[a]=i[1],e=e.slice(0,i.index)),c[a]=c[a]||o&&s[3]&&t[a]||"",s[4]&&(c[a]=c[a].toLowerCase())):e=s(e,c);r&&(c.query=r(c.query)),o&&t.slashes&&"/"!==c.pathname.charAt(0)&&(""!==c.pathname||""!==t.pathname)&&(c.pathname=function(e,t){if(""===e)return t;for(var r=(t||"/").split("/").slice(0,-1).concat(e.split("/")),o=r.length,t=r[o-1],n=!1,s=0;o--;)"."===r[o]?r.splice(o,1):".."===r[o]?(r.splice(o,1),s++):s&&(0===o&&(n=!0),r.splice(o,1),s--);return n&&r.unshift(""),"."!==t&&".."!==t||r.push(""),r.join("/")}(c.pathname,t.pathname)),"/"!==c.pathname.charAt(0)&&m(c.protocol)&&(c.pathname="/"+c.pathname),f(c.port,c.protocol)||(c.host=c.hostname,c.port=""),c.username=c.password="",c.auth&&(s=c.auth.split(":"),c.username=s[0],c.password=s[1]||""),c.origin="file:"!==c.protocol&&m(c.protocol)&&c.host?c.protocol+"//"+c.host:"null",c.href=c.toString()}g.prototype={set:function(e,t,r){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(r||h.parse)(t)),o[e]=t;break;case"port":o[e]=t,f(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!r;break;case"pathname":case"hash":t?(n="pathname"===e?"/":"#",o[e]=t.charAt(0)!==n?n+t:t):o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var n=t.split(":");o.username=n[0],o.password=2===n.length?n[1]:""}for(var s=0;s<y.length;s++){var i=y[s];i[4]&&(o[i[1]]=o[i[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&m(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=h.stringify);var t=this,r=((r=t.protocol)&&":"!==r.charAt(r.length-1)&&(r+=":"),r+(t.protocol&&t.slashes||m(t.protocol)?"//":""));return t.username?(r+=t.username,t.password&&(r+=":"+t.password),r+="@"):t.password&&(r=r+(":"+t.password)+"@"),r+=t.host+t.pathname,(e="object"==typeof t.query?e(t.query):t.query)&&(r+="?"!==e.charAt(0)?"?"+e:e),t.hash&&(r+=t.hash),r}},g.extractProtocol=b,g.location=w,g.trimLeft=d,g.qs=h,r.exports=g}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:11,"requires-port":12}]},{},[1])(1)});
