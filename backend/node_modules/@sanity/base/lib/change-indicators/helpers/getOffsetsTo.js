"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getOffsetsTo = void 0;

var _scrollUtils = require("./scrollUtils");

var getOffsetsTo = (source, target) => {
  var bounds = {
    top: 0,
    left: 0,
    height: target.offsetHeight,
    width: target.offsetWidth
  };
  var rect = {
    top: 0,
    left: 0,
    height: source.offsetHeight,
    width: source.offsetWidth
  };
  var foundScrollContainer = false;
  var el = source;

  while (el && el !== target && target.contains(el)) {
    if (foundScrollContainer) {
      bounds.top += el.offsetTop;
      bounds.left += el.offsetLeft;
    }

    if ((0, _scrollUtils.hasOverflowScroll)(el)) {
      bounds.top = el.offsetTop;
      bounds.height = el.offsetHeight;
      bounds.left = el.offsetLeft;
      bounds.width = el.offsetWidth;
      foundScrollContainer = true;
    }

    rect.top += el.offsetTop - el.scrollTop;
    rect.left += el.offsetLeft - el.scrollLeft;
    el = el.offsetParent;
  }

  return {
    rect,
    bounds
  };
};

exports.getOffsetsTo = getOffsetsTo;