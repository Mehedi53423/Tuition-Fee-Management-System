{"version":3,"sources":["../../src/middleware/urlEncoded.js"],"names":["objectAssign","require","isPlainObject","urlEncode","encode","default","isBuffer","obj","constructor","module","exports","processOptions","options","body","isStream","pipe","shouldSerialize","headers"],"mappings":";;AAAA,IAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;;AACA,IAAMC,aAAa,GAAGD,OAAO,CAAC,iBAAD,CAA7B;;AACA,IAAME,SAAS,GAAGF,OAAO,CAAC,iBAAD,CAAzB;;AAEA,IAAMG,MAAM,GAAGD,SAAS,CAACE,OAAV,IAAqBF,SAApC;;AAEA,IAAMG,QAAQ,GAAG,SAAXA,QAAW,CAAAC,GAAG;AAAA,SAClB,CAAC,CAACA,GAAG,CAACC,WAAN,IACA,OAAOD,GAAG,CAACC,WAAJ,CAAgBF,QAAvB,KAAoC,UADpC,IAEAC,GAAG,CAACC,WAAJ,CAAgBF,QAAhB,CAAyBC,GAAzB,CAHkB;AAAA,CAApB;;AAKAE,MAAM,CAACC,OAAP,GAAiB;AAAA,SAAO;AACtBC,IAAAA,cAAc,EAAE,wBAAAC,OAAO,EAAI;AACzB,UAAMC,IAAI,GAAGD,OAAO,CAACC,IAArB;;AACA,UAAI,CAACA,IAAL,EAAW;AACT,eAAOD,OAAP;AACD;;AAED,UAAME,QAAQ,GAAG,OAAOD,IAAI,CAACE,IAAZ,KAAqB,UAAtC;AACA,UAAMC,eAAe,GAAG,CAACF,QAAD,IAAa,CAACR,QAAQ,CAACO,IAAD,CAAtB,IAAgCX,aAAa,CAACW,IAAD,CAArE;;AAEA,UAAI,CAACG,eAAL,EAAsB;AACpB,eAAOJ,OAAP;AACD;;AAED,aAAOZ,YAAY,CAAC,EAAD,EAAKY,OAAL,EAAc;AAC/BC,QAAAA,IAAI,EAAET,MAAM,CAACQ,OAAO,CAACC,IAAT,CADmB;AAE/BI,QAAAA,OAAO,EAAEjB,YAAY,CAAC,EAAD,EAAKY,OAAO,CAACK,OAAb,EAAsB;AACzC,0BAAgB;AADyB,SAAtB;AAFU,OAAd,CAAnB;AAMD;AApBqB,GAAP;AAAA,CAAjB","sourcesContent":["const objectAssign = require('object-assign')\nconst isPlainObject = require('is-plain-object')\nconst urlEncode = require('form-urlencoded')\n\nconst encode = urlEncode.default || urlEncode\n\nconst isBuffer = obj =>\n  !!obj.constructor &&\n  typeof obj.constructor.isBuffer === 'function' &&\n  obj.constructor.isBuffer(obj)\n\nmodule.exports = () => ({\n  processOptions: options => {\n    const body = options.body\n    if (!body) {\n      return options\n    }\n\n    const isStream = typeof body.pipe === 'function'\n    const shouldSerialize = !isStream && !isBuffer(body) && isPlainObject(body)\n\n    if (!shouldSerialize) {\n      return options\n    }\n\n    return objectAssign({}, options, {\n      body: encode(options.body),\n      headers: objectAssign({}, options.headers, {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      })\n    })\n  }\n})\n"],"file":"urlEncoded.js"}