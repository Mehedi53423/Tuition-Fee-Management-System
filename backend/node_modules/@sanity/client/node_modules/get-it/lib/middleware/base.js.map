{"version":3,"sources":["../../src/middleware/base.js"],"names":["objectAssign","require","leadingSlash","trailingSlash","module","exports","baseUrl","baseUri","replace","processOptions","options","test","url","join"],"mappings":";;AAAA,IAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;;AAEA,IAAMC,YAAY,GAAG,KAArB;AACA,IAAMC,aAAa,GAAG,KAAtB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAAC,OAAO,EAAI;AAC1B,MAAMC,OAAO,GAAGD,OAAO,CAACE,OAAR,CAAgBL,aAAhB,EAA+B,EAA/B,CAAhB;AACA,SAAO;AACLM,IAAAA,cAAc,EAAE,wBAAAC,OAAO,EAAI;AACzB,UAAI,gBAAgBC,IAAhB,CAAqBD,OAAO,CAACE,GAA7B,CAAJ,EAAuC;AACrC,eAAOF,OAAP,CADqC,CACtB;AAChB;;AAED,UAAME,GAAG,GAAG,CAACL,OAAD,EAAUG,OAAO,CAACE,GAAR,CAAYJ,OAAZ,CAAoBN,YAApB,EAAkC,EAAlC,CAAV,EAAiDW,IAAjD,CAAsD,GAAtD,CAAZ;AACA,aAAOb,YAAY,CAAC,EAAD,EAAKU,OAAL,EAAc;AAACE,QAAAA,GAAG,EAAHA;AAAD,OAAd,CAAnB;AACD;AARI,GAAP;AAUD,CAZD","sourcesContent":["const objectAssign = require('object-assign')\n\nconst leadingSlash = /^\\//\nconst trailingSlash = /\\/$/\n\nmodule.exports = baseUrl => {\n  const baseUri = baseUrl.replace(trailingSlash, '')\n  return {\n    processOptions: options => {\n      if (/^https?:\\/\\//i.test(options.url)) {\n        return options // Already prefixed\n      }\n\n      const url = [baseUri, options.url.replace(leadingSlash, '')].join('/')\n      return objectAssign({}, options, {url})\n    }\n  }\n}\n"],"file":"base.js"}