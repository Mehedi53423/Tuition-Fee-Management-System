{"version":3,"sources":["../../src/middleware/mtls.js"],"names":["objectAssign","require","module","exports","config","ca","Error","cert","key","finalizeOptions","options","mtlsOpts"],"mappings":";;AAAA,MAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;;AAEAC,MAAM,CAACC,OAAP,GAAiB,CAACC,MAAM,GAAG,EAAV,KAAiB;AAChC,MAAI,CAACA,MAAM,CAACC,EAAZ,EAAgB;AACd,UAAM,IAAIC,KAAJ,CAAU,sCAAV,CAAN;AACD;;AACD,MAAI,CAACF,MAAM,CAACG,IAAZ,EAAkB;AAChB,UAAM,IAAID,KAAJ,CAAU,wCAAV,CAAN;AACD;;AACD,MAAI,CAACF,MAAM,CAACI,GAAZ,EAAiB;AACf,UAAM,IAAIF,KAAJ,CAAU,uCAAV,CAAN;AACD;;AAED,SAAO;AACLG,IAAAA,eAAe,EAAEC,OAAO,IAAI;AAC1B,YAAMC,QAAQ,GAAG;AACfJ,QAAAA,IAAI,EAAEH,MAAM,CAACG,IADE;AAEfC,QAAAA,GAAG,EAAEJ,MAAM,CAACI,GAFG;AAGfH,QAAAA,EAAE,EAAED,MAAM,CAACC;AAHI,OAAjB;AAKA,aAAOL,YAAY,CAAC,EAAD,EAAKU,OAAL,EAAcC,QAAd,CAAnB;AACD;AARI,GAAP;AAUD,CArBD","sourcesContent":["const objectAssign = require('object-assign')\n\nmodule.exports = (config = {}) => {\n  if (!config.ca) {\n    throw new Error('Required mtls option \"ca\" is missing')\n  }\n  if (!config.cert) {\n    throw new Error('Required mtls option \"cert\" is missing')\n  }\n  if (!config.key) {\n    throw new Error('Required mtls option \"key\" is missing')\n  }\n\n  return {\n    finalizeOptions: options => {\n      const mtlsOpts = {\n        cert: config.cert,\n        key: config.key,\n        ca: config.ca\n      }\n      return objectAssign({}, options, mtlsOpts)\n    }\n  }\n}\n"],"file":"mtls.js"}