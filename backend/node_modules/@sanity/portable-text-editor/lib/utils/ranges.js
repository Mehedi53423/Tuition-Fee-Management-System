"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.toPortableTextRange = toPortableTextRange;
exports.toSlateRange = toSlateRange;

var _paths = require("./paths");

function toPortableTextRange(editor, range) {
  if (!range) {
    return null;
  }

  var anchor = null;
  var focus = null;
  var anchorPath = range.anchor && (0, _paths.createKeyedPath)(range.anchor, editor);

  if (anchorPath && range.anchor) {
    anchor = {
      path: anchorPath,
      offset: range.anchor.offset
    };
  }

  var focusPath = range.focus && (0, _paths.createKeyedPath)(range.focus, editor);

  if (focusPath && range.focus) {
    focus = {
      path: focusPath,
      offset: range.focus.offset
    };
  }

  return anchor && focus ? {
    anchor,
    focus
  } : null;
}

function toSlateRange(selection, editor) {
  if (!selection || !editor) {
    return null;
  }

  var anchor = {
    path: (0, _paths.createArrayedPath)(selection.anchor, editor),
    offset: selection.anchor.offset
  };
  var focus = {
    path: (0, _paths.createArrayedPath)(selection.focus, editor),
    offset: selection.focus.offset
  };
  var range = anchor && focus ? {
    anchor,
    focus
  } : null;
  return range;
}