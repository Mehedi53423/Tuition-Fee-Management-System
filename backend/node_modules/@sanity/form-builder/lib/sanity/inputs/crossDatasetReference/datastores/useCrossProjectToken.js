"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.useCrossProjectToken = useCrossProjectToken;

var _internal = require("@sanity/base/_internal");

var _reactRx = require("react-rx");

var _operators = require("rxjs/operators");

function useCrossProjectToken(client, _ref) {
  var projectId = _ref.projectId,
      tokenId = _ref.tokenId;
  return (0, _reactRx.useMemoObservable)(() => (0, _internal.observePaths)((0, _internal.getTokenDocumentId)({
    projectId,
    tokenId
  }), ['token']).pipe((0, _operators.map)(document => ({
    status: 'loaded',
    result: document === null || document === void 0 ? void 0 : document.token
  })), (0, _operators.startWith)({
    status: 'loading'
  })), [client, projectId, tokenId]);
}