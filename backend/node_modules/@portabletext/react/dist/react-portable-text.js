"use strict";var q=Object.defineProperty,j=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var M=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,E=(e,t)=>{for(var n in t||(t={}))$.call(t,n)&&M(e,n,t[n]);if(L)for(var n of L(t))C.call(t,n)&&M(e,n,t[n]);return e},P=(e,t)=>j(e,H(t));var S=(e,t)=>{var n={};for(var a in e)$.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&L)for(var a of L(e))t.indexOf(a)<0&&C.call(e,a)&&(n[a]=e[a]);return n};Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var y=require("@portabletext/toolkit"),w=require("react");function R(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var l=R(w);function B(e,t){const d=t,{block:n,list:a,listItem:f,marks:h,types:I}=d,p=S(d,["block","list","listItem","marks","types"]);return E(P(E({},e),{block:_(e,t,"block"),list:_(e,t,"list"),listItem:_(e,t,"listItem"),marks:_(e,t,"marks"),types:_(e,t,"types")}),p)}function _(e,t,n){const a=t[n],f=e[n];return typeof a=="function"||a&&typeof f=="function"?a:a?E(E({},f),a):f}const A=({children:e,value:t})=>l.default.createElement("a",{href:t==null?void 0:t.href},e),z={textDecoration:"underline"},F={em:({children:e})=>l.default.createElement("em",null,e),strong:({children:e})=>l.default.createElement("strong",null,e),code:({children:e})=>l.default.createElement("code",null,e),underline:({children:e})=>l.default.createElement("span",{style:z},e),"strike-through":({children:e})=>l.default.createElement("del",null,e),link:A},K={number:({children:e})=>l.default.createElement("ol",null,e),bullet:({children:e})=>l.default.createElement("ul",null,e)},O=({children:e})=>l.default.createElement("li",null,e),x=(e,t)=>`Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,U=e=>x(`block type "${e}"`,"types"),V=e=>x(`mark type "${e}"`,"marks"),G=e=>x(`block style "${e}"`,"block"),J=e=>x(`list style "${e}"`,"list"),Q=e=>x(`list item style "${e}"`,"listItem");function X(e){console.warn(e)}const N={display:"none"},Y=({value:e,isInline:t})=>{const n=U(e._type);return t?l.default.createElement("span",{style:N},n):l.default.createElement("div",{style:N},n)},Z=({markType:e,children:t})=>l.default.createElement("span",{className:`unknown__pt__mark__${e}`},t),ee=({children:e})=>l.default.createElement("p",null,e),te=({children:e})=>l.default.createElement("ul",null,e),ne=({children:e})=>l.default.createElement("li",null,e),le=()=>l.default.createElement("br",null),re={normal:({children:e})=>l.default.createElement("p",null,e),blockquote:({children:e})=>l.default.createElement("blockquote",null,e),h1:({children:e})=>l.default.createElement("h1",null,e),h2:({children:e})=>l.default.createElement("h2",null,e),h3:({children:e})=>l.default.createElement("h3",null,e),h4:({children:e})=>l.default.createElement("h4",null,e),h5:({children:e})=>l.default.createElement("h5",null,e),h6:({children:e})=>l.default.createElement("h6",null,e)},D={types:{},block:re,marks:F,list:K,listItem:O,hardBreak:le,unknownType:Y,unknownMark:Z,unknownList:te,unknownListItem:ne,unknownBlockStyle:ee},g=w.createContext(D),oe=({components:e,children:t})=>{const n=w.useMemo(()=>B(D,e),[e]);return l.default.createElement(g.Provider,{value:n},t)};function ae({value:e,components:t,listNestingMode:n,onMissingComponent:a=X}){const f=a||se,h=Array.isArray(e)?e:[e],I=y.nestLists(h,n||y.LIST_NEST_MODE_HTML),p=w.useContext(g),d=w.useMemo(()=>t?B(p,t):p,[p,t]),r=w.useMemo(()=>ue(d,f),[d,f]),o=I.map((s,c)=>r({node:s,index:c,isInline:!1,renderNode:r}));return t?l.default.createElement(g.Provider,{value:d},o):l.default.createElement(l.default.Fragment,null,o)}const ue=(e,t)=>{function n(r){const{node:o,index:s,isInline:c}=r,u=o._key||`node-${s}`;return y.isPortableTextToolkitList(o)?f(o,s,u):y.isPortableTextListItemBlock(o)?a(o,s,u):y.isPortableTextToolkitSpan(o)?h(o,s,u):y.isPortableTextBlock(o)?I(o,s,u,c):y.isPortableTextToolkitTextNode(o)?p(o,u):d(o,s,u,c)}function a(r,o,s){const c=v({node:r,index:o,isInline:!1,renderNode:n}),u=e.listItem,i=(typeof u=="function"?u:u[r.listItem])||e.unknownListItem;if(i===e.unknownListItem){const T=r.listItem||"bullet";t(Q(T),{type:T,nodeType:"listItemStyle"})}let k=c.children;if(r.style&&r.style!=="normal"){const b=r,{listItem:T}=b,W=S(b,["listItem"]);k=n({node:W,index:o,isInline:!1,renderNode:n})}return l.default.createElement(i,{key:s,value:r,index:o,isInline:!1,renderNode:n},k)}function f(r,o,s){const c=r.children.map((k,b)=>n({node:k._key?k:P(E({},k),{_key:`li-${o}-${b}`}),index:o,isInline:!1,renderNode:n})),u=e.list,i=(typeof u=="function"?u:u[r.listItem])||e.unknownList;if(i===e.unknownList){const k=r.listItem||"bullet";t(J(k),{nodeType:"listStyle",type:k})}return l.default.createElement(i,{key:s,value:r,index:o,isInline:!1,renderNode:n},c)}function h(r,o,s){const{markDef:c,markType:u,markKey:m}=r,i=e.marks[u]||e.unknownMark,k=r.children.map((b,T)=>n({node:b,index:T,isInline:!0,renderNode:n}));return i===e.unknownMark&&t(V(u),{nodeType:"mark",type:u}),l.default.createElement(i,{key:s,text:y.spanToPlainText(r),value:c,markType:u,markKey:m,renderNode:n},k)}function I(r,o,s,c){const T=v({node:r,index:o,isInline:c,renderNode:n}),{_key:u}=T,m=S(T,["_key"]),i=m.node.style||"normal",b=(typeof e.block=="function"?e.block:e.block[i])||e.unknownBlockStyle;return b===e.unknownBlockStyle&&t(G(i),{nodeType:"blockStyle",type:i}),l.default.createElement(b,P(E({key:s},m),{value:m.node,renderNode:n}))}function p(r,o){if(r.text===`
`){const s=e.hardBreak;return s?l.default.createElement(s,{key:o}):`
`}return r.text}function d(r,o,s,c){const u=e.types[r._type],m={value:r,isInline:c,index:o,renderNode:n};if(u)return l.default.createElement(u,E({key:s},m));t(U(r._type),{nodeType:"block",type:r._type});const i=e.unknownType;return l.default.createElement(i,E({key:s},m))}return n};function v(e){const{node:t,index:n,isInline:a,renderNode:f}=e,I=y.buildMarksTree(t).map((p,d)=>f({node:p,isInline:!0,index:d,renderNode:f}));return{_key:t._key||`block-${n}`,children:I,index:n,isInline:a,node:t}}function se(){}Object.defineProperty(exports,"toPlainText",{enumerable:!0,get:function(){return y.toPlainText}});exports.PortableText=ae;exports.PortableTextComponentsProvider=oe;exports.defaultComponents=D;exports.mergeComponents=B;
//# sourceMappingURL=react-portable-text.js.map
